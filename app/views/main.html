<a href="#/admin">Admin Area</a>
<div class="row errors">
	<ul>
		<li ng-repeat="error in errors">{{error}}</li>
	</ul>
</div>

<div class="row">
	<div class="span1">
		Watched:
	</div>
	<div class="span3">
		<div class="btn-group">
			<button type="button" class="btn" ng-model="showFilterState.completelyWatched" btn-checkbox>Complete</button>
			<button type="button" class="btn" ng-model="showFilterState.watched" btn-checkbox>Started</button>
			<button type="button" class="btn" ng-model="showFilterState.notWatched" btn-checkbox>None</button>
		</div>
    </div>

	<div class="offset1 span1">
		Filter:
	</div>
	<form class="span6">
		<input class="span3" type="text" ng-model="filterText"/>
	</form>
</div>

<div class="row">
	<div class="span1">
		Collected:
	</div>
	<div class="span3">
		<div class="btn-group">
			<button type="button" class="btn" ng-model="showFilterState.completelyCollected" btn-checkbox>Complete</button>
			<button type="button" class="btn" ng-model="showFilterState.collected" btn-checkbox>Started</button>
			<button type="button" class="btn" ng-model="showFilterState.notCollected" btn-checkbox>None</button>
		</div>
    </div>

	<div class="offset1 span1">
		Order by:
	</div>
	<div class="span6">
		<select ng-model="orderShows" ng-options="o for o in orderByOptions"></select>
		<button type="button" class="btn" ng-model="orderReverse" btn-checkbox>Reverse</button>
	</div>
</div>

<div class="row">
    <div class="offset1 span11">
		<div class="btn-group">
			<button type="button" class="btn" ng-model="showFilterState.hideEmpty" btn-checkbox>Hide Empty</button>
		</div>
	</div>
</div>

<div class="row well" ng-repeat="show in shows | filterShows:showFilterState | filter:filterText | orderBy:orderShows:orderReverse">
	<h4><a target="_blank" href="{{ show.url }}">{{show.title}}</a></h4>
	<span ng-show="show.completelyCollectedEpisodeCount">
		Continuously collected episode count: {{ show.completelyCollectedEpisodeCount }} in
		<ng-pluralize count="show.completelyCollectedSeasons.length"
					  when="{'1': 'one season',
							 'other': '{} seasons'}">
		</ng-pluralize>
	</span>
	</br>
	Seasons:
	<div ng-repeat="season in show.seasons">
		<a ng-href="{{linkToTraktSeasonPage(show.url, season.number)}}" target="_blank">#{{season.number}}</a>
		Episodes: {{ season.episodes.length }}

		<div class="progress">
			<div
				ng-repeat="episode in season.episodes"
				class="bar bar-{{episode}} episode"
				ng-click="openEpisodeTraktPage(show.url, season.number, $index + 1)"
				style="width: {{100 / season.episodes.length}}%;"
				title="Episode {{$index + 1}} of season {{season.number}}: {{episode}}">
		</div>
	</div>
</div>
